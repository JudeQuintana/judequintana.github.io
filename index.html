<!DOCTYPE html>
<html lang="en">
    
  <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.111.3">

    

<title>jq1.io</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="jq1.io"/>
<meta name="twitter:description" content="Ideas as Code"/>

<meta property="og:title" content="jq1.io" />
<meta property="og:description" content="Ideas as Code" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jq1.io/" /><meta property="og:site_name" content="The Art of Demolition" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.3081c4981fb69a2783dd36ecfdd0e6ba7a158d4cbfdd290ebce8f78ba0469fc6.css" integrity="sha256-MIHEmB&#43;2mieD3Tbs/dDmunoVjUy/3SkOvOj3i6BGn8Y=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" sizes="32x32" href="/favicon.png">
    <link rel="alternate" type="application/rss+xml" href="https://jq1.io/index.xml" title="jq1.io" />

    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://jq1.io/">jq1.io</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://jq1.io/img/thought.png" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         Ideas as Code 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">jq1.io</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/JayQ_One" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/judequintana" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/jq1" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	<a href="mailto:jude@jq1.io" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://jq1.io/index.xml" rel="me"><i class="fas fa-rss fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2023 Jude Quintana
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a>
</div>


  </div>
</div>

        <div class="content container">
            
  <div class="post-list">
    
    
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/finally_published_to_public_registry/" >Finally published to the Terraform Cloud public registry</a>
        </span>
        <span class="item__date">
          Mar 4, 2023
        </span>
        <span >
        
        Hey everyone,
Great news! The modules that power the TNT Architecture and Super Router projects for scaling VPCs and TGWs in AWS have been published to the Terraform Cloud public registry at v1.0.0, like FINALLY!
Tiered VPC-NG Centralized Router (includes Generate Routes to Other VPCs) Super Router Intra VPC Security Group Rule Super Intra VPC Security Group Rules The modules are mostly the same as what&rsquo;s in my Terraform development repo at v1.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/finally_published_to_public_registry/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/slappin_chrome_on_the_wip/" >Slappin&#39; chrome on the WIP</a>
        </span>
        <span class="item__date">
          Jan 28, 2023
        </span>
        <span >
        
        Reflection in the Rear-View: Initially, I thought the TNT Architecture project and Super Router project were &ldquo;good enough&rdquo; to scale VPCs and TGWs in AWS.
But, after looking back on what was built there were so many areas for improvement that I could not resist the extended refinement and discovery.
I went ahead and gave the most useful Terraform networking modules a clean chrome wrapping with encoded engravings.
Most of the work went into internal module changes and consolidating my favorite patterns to use.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/slappin_chrome_on_the_wip/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/init_super_refactor/" >$init super refactor</a>
        </span>
        <span class="item__date">
          Oct 11, 2022
        </span>
        <span >
        
        Aaaand we&rsquo;re back with another heavy hitting round of super refactorization in Terraform!
I think the first iteration of Super Router for AWS went well.
It allowed us to peer and route both intra-region and cross-region TGWs and VPCs with a single module.
But there was one really annoying flaw.
The caveat in the design is that the peer TGWs will have to go through the Super Router&rsquo;s local provider region to get to other peer TGWs.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/init_super_refactor/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/super_router/" >Super Powered, Super Sharp, Super Router!</a>
        </span>
        <span class="item__date">
          Aug 13, 2022
        </span>
        <span >
        
        What&rsquo;s up world?!
Welcome back for moar spicy cloud networking Terraform takes because we servin&rsquo; them HOT over here so let&rsquo;s dig in!
This is a follow up to the generating routes blog post.
TNT Architecture Recap The Terraform Networking Trifecta project demonstrated the ability to &ldquo;scale&rdquo; AWS VPCs in Terraform code by adding VPC objects to a list.
Example VPC architecture but with auto named subnets: With Tiered VPCs we can narrow down the context (ie app, cicd, general) and maximize the use of smaller network sizes.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/super_router/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/generating_routes/" >Building a generate routes function using Terraform test</a>
        </span>
        <span class="item__date">
          Mar 5, 2022
        </span>
        <span >
        
        Welcome to the next episode of thinking out loud to route in the cloud, you know my steez!
Earlier this season we abstracted a TGW Centralized Router.
Part of it&rsquo;s responsibility is to manage routes between Tiered VPCs within a single region.
It will create routes to other VPC networks in private and public route tables for each VPC (except itself).
# snippet variable &#34;vpcs&#34; { type = map(object({ network = string az_to_private_route_table_id = map(string) az_to_public_route_table_id = map(string) })) } locals { # { vpc-1-network =&gt; [ &#34;vpc-1-private-rtb-id-1&#34;, &#34;vpc-1-public-rtb-id-1&#34;, .
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/generating_routes/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/opinion_23/" >Terraform Opinion #23: Use list of objects over map of maps</a>
        </span>
        <span class="item__date">
          Nov 19, 2021
        </span>
        <span >
        
        Lately, I&rsquo;ve seen quite a bit of Terraform snippets that use a static map of maps to directly configure resources.
For example:
locals { map_of_maps = { name1 = { attribute1 = &#34;name1-value1&#34; attribute2 = &#34;name1-value2&#34; attribute3 = &#34;name1-value3&#34; } name2 = { attribute1 = &#34;name2-value1&#34; attribute2 = &#34;name2-value2&#34; attribute3 = &#34;name2-value3&#34; } name3 = { attribute1 = &#34;name3-value1&#34; attribute2 = &#34;name3-value2&#34; attribute3 = &#34;name3-value3&#34; } } } resource &#34;some_resource&#34; &#34;this&#34; { for_each = local.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/opinion_23/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/tnt/" >Terraform Networking Trifecta</a>
        </span>
        <span class="item__date">
          Jul 22, 2021
        </span>
        <span >
        
        Intro Initially I&rsquo;d planned to blog more than just about Terraform but it hasn&rsquo;t turned out that way due to lack of time.
But that&rsquo;s OK because I really do enjoy creating and writing about networking topics with Terraform in the cloud.
Content generation is hard so hats off to those who are consistently generating it.
This project is for all the Terraform headz building networks in the cloud!
It&rsquo;s building on my previous Tiered VPC idea but by adding a couple more abstractions we can build flexible networking between multiple AWS VPCs with minimal code.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/tnt/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/tiered_vpc/" >Synthesizing Tiered VPC in Terraform</a>
        </span>
        <span class="item__date">
          Jan 12, 2021
        </span>
        <span >
        
        Today&rsquo;s Mathematics Dynamic VPC x Tiered Subnet Calculator = Tiered VPC
Observing Abstractions In hindsight, the Dynamic VPC module should instead be called Simple VPC. It provides a general VPC tier including a public subnet (/24), a private subnet (/24) and NAT Gateways per AZ. The interface is simple because there is minimal focus on subnetting due to the internal subnet generation.
Routing is automatic and the module outputs can be consumed for peering.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/tiered_vpc/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/tiered_subnet_calculator/" >Tiered Subnet Calculator in Terraform</a>
        </span>
        <span class="item__date">
          Dec 1, 2020
        </span>
        <span >
        
        Update May 6th 2023:
Things have changed for the Tiered Subnet Calculator module since Terraform v0.13.0 like the resulting order (lexical sorting) of a set of objects with for.
variable &#34;tiers&#34; { description = &#34;Networking tiers&#34; type = set(object({ name = string acl = string newbit = number })) } Using a list of objects will keep it&rsquo;s current order so I can use the var.base_cidr_block as a starting point for generating network subnets for AWS.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/tiered_subnet_calculator/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/posts/hash_server_9000/" >Hash Server 9000 in Go</a>
        </span>
        <span class="item__date">
          Oct 10, 2020
        </span>
        <span >
        
        I took an internal dev challenge at work a while back because I wanted to learn more Go since I have an OO background and was not familiar with the procedural way of thinking. The goal was to build a simple non-persistent password hashing service using only the standard library while demonstrating the use of concurrency with the endpoint requirements below.
Reading the blue and white book was definitely key to gaining deeper insight.
        
        </span>
        
          ... <a class="read-more-symbol" href="/posts/hash_server_9000/">➦</a>
        
        </div>
        
     
  </div>
  

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item disabled">
    <a href="" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    <li class="page-item">
    <a href="/page/2/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/2/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


        </div>
        
  
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YE3FYNTXXN"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YE3FYNTXXN', { 'anonymize_ip': false });
}
</script>

  
  <script src="https://use.fontawesome.com/releases/v6.2.0/js/all.js" integrity="sha384-W5zCdxUh9KjkijDohSc4bFCIfbZKNYcz/hdWjfRL1whrEJO6YBXMaZcAZU5YWJNW" crossorigin="anonymous"></script>


    </body>
</html>
